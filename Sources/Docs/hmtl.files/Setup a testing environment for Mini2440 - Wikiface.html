<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html dir="ltr" lang="en"><head>
<title>Setup a testing environment for Mini2440 - Wikiface</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="MediaWiki 1.16.4">
<link rel="shortcut icon" href="http://wiki.iface.ch/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.iface.ch/opensearch_desc.php" title="Wikiface (en)">
<link title="Creative Commons" type="application/rdf+xml" href="http://wiki.iface.ch/index.php?title=Setup_a_testing_environment_for_Mini2440&amp;action=creativecommons" rel="meta">
<link rel="copyright" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">
<link rel="alternate" type="application/atom+xml" title="Wikiface Atom feed" href="http://wiki.iface.ch/index.php?title=Special:RecentChanges&amp;feed=atom">
<link rel="stylesheet" href="Setup%20a%20testing%20environment%20for%20Mini2440%20-%20Wikiface_files/main-ltr.css" media="screen">
<link rel="stylesheet" href="Setup%20a%20testing%20environment%20for%20Mini2440%20-%20Wikiface_files/shared.css" media="screen">
<link rel="stylesheet" href="Setup%20a%20testing%20environment%20for%20Mini2440%20-%20Wikiface_files/commonPrint.css" media="print">
<link rel="stylesheet" href="Setup%20a%20testing%20environment%20for%20Mini2440%20-%20Wikiface_files/index_003.css">
<link rel="stylesheet" href="Setup%20a%20testing%20environment%20for%20Mini2440%20-%20Wikiface_files/index.css" media="print">
<link rel="stylesheet" href="Setup%20a%20testing%20environment%20for%20Mini2440%20-%20Wikiface_files/index_002.css">
<link rel="stylesheet" href="Setup%20a%20testing%20environment%20for%20Mini2440%20-%20Wikiface_files/index_004.css">
<script>
var skin="vector",
stylepath="/skins",
wgUrlProtocols="http\\:\\/\\/|https\\:\\/\\/|ftp\\:\\/\\/|irc\\:\\/\\/|gopher\\:\\/\\/|telnet\\:\\/\\/|nntp\\:\\/\\/|worldwind\\:\\/\\/|mailto\\:|news\\:|svn\\:\\/\\/",
wgArticlePath="/index.php/$1",
wgScriptPath="",
wgScriptExtension=".php",
wgScript="/index.php",
wgVariantArticlePath=false,
wgActionPaths={},
wgServer="http://wiki.iface.ch",
wgCanonicalNamespace="",
wgCanonicalSpecialPageName=false,
wgNamespaceNumber=0,
wgPageName="Setup_a_testing_environment_for_Mini2440",
wgTitle="Setup a testing environment for Mini2440",
wgAction="view",
wgArticleId=18,
wgIsArticle=true,
wgUserName=null,
wgUserGroups=null,
wgUserLanguage="en",
wgContentLanguage="en",
wgBreakFrames=false,
wgCurRevisionId=62,
wgVersion="1.16.4",
wgEnableAPI=true,
wgEnableWriteAPI=true,
wgSeparatorTransformTable=["", ""],
wgDigitTransformTable=["", ""],
wgMainPageTitle="Main Page",
wgFormattedNamespaces={"-2": "Media", "-1": "Special", "0": "", "1": "Talk", "2": "User", "3": "User talk", "4": "Wikiface", "5": "Wikiface talk", "6": "File", "7": "File talk", "8": "MediaWiki", "9": "MediaWiki talk", "10": "Template", "11": "Template talk", "12": "Help", "13": "Help talk", "14": "Category", "15": "Category talk"},
wgNamespaceIds={"media": -2, "special": -1, "": 0, "talk": 1, "user": 2, "user_talk": 3, "wikiface": 4, "wikiface_talk": 5, "file": 6, "file_talk": 7, "mediawiki": 8, "mediawiki_talk": 9, "template": 10, "template_talk": 11, "help": 12, "help_talk": 13, "category": 14, "category_talk": 15, "image": 6, "image_talk": 7},
wgSiteName="Wikiface",
wgCategories=["Mini2440", "Linux"],
wgRestrictionEdit=[],
wgRestrictionMove=[];
</script><script src="Setup%20a%20testing%20environment%20for%20Mini2440%20-%20Wikiface_files/wikibits.js"></script>
<script src="Setup%20a%20testing%20environment%20for%20Mini2440%20-%20Wikiface_files/ajax.js"></script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.htc")}</style><![endif]-->
<script src="Setup%20a%20testing%20environment%20for%20Mini2440%20-%20Wikiface_files/index.php"></script>

<style type="text/css">/*<![CDATA[*/
.source-bash {line-height: normal;}
.source-bash li, .source-bash pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for bash
 * CSS class: source-bash, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.bash.source-bash .de1, .bash.source-bash .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.bash.source-bash  {font-family:monospace;}
.bash.source-bash .imp {font-weight: bold; color: red;}
.bash.source-bash li, .bash.source-bash .li1 {font-weight: normal; vertical-align:top;}
.bash.source-bash .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.bash.source-bash .li2 {font-weight: bold; vertical-align:top;}
.bash.source-bash .kw1 {color: #000000; font-weight: bold;}
.bash.source-bash .kw2 {color: #c20cb9; font-weight: bold;}
.bash.source-bash .kw3 {color: #7a0874; font-weight: bold;}
.bash.source-bash .co0 {color: #666666; font-style: italic;}
.bash.source-bash .co1 {color: #800000;}
.bash.source-bash .co2 {color: #cc0000; font-style: italic;}
.bash.source-bash .co3 {color: #000000; font-weight: bold;}
.bash.source-bash .es1 {color: #000099; font-weight: bold;}
.bash.source-bash .es2 {color: #007800;}
.bash.source-bash .es3 {color: #007800;}
.bash.source-bash .es4 {color: #007800;}
.bash.source-bash .es5 {color: #780078;}
.bash.source-bash .es_h {color: #000099; font-weight: bold;}
.bash.source-bash .br0 {color: #7a0874; font-weight: bold;}
.bash.source-bash .sy0 {color: #000000; font-weight: bold;}
.bash.source-bash .st0 {color: #ff0000;}
.bash.source-bash .st_h {color: #ff0000;}
.bash.source-bash .nu0 {color: #000000;}
.bash.source-bash .re0 {color: #007800;}
.bash.source-bash .re1 {color: #007800;}
.bash.source-bash .re2 {color: #007800;}
.bash.source-bash .re4 {color: #007800;}
.bash.source-bash .re5 {color: #660033;}
.bash.source-bash .ln-xtra, .bash.source-bash li.ln-xtra, .bash.source-bash div.ln-xtra {background-color: #ffc;}
.bash.source-bash span.xtra { display:block; }

/*]]>*/
</style>
<style type="text/css">/*<![CDATA[*/
@import "/index.php?title=MediaWiki:Geshi.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
/*]]>*/
</style></head>
<body class="mediawiki ltr ns-0 ns-subject page-Setup_a_testing_environment_for_Mini2440 skin-vector">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">Setup a testing environment for Mini2440</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
				<!-- tagline -->
				<h3 id="siteSub">From Wikiface</h3>
				<!-- /tagline -->
				<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav">
					Jump to: <a href="#mw-head">navigation</a>,
					<a href="#p-search">search</a>
				</div>
				<!-- /jumpto -->
								<!-- bodytext -->
				<p>The scope of this document is to show how to setup a development and testing environment for the Mini2440 ARM based board.
</p><p>These are the features of the environment:
</p>
<ul><li>Cross compiler toolchain based on <a href="http://www.codesourcery.com/" class="external text" rel="nofollow">CodeSourcery</a> tools;
</li><li>Shared directory containing the testing material for the board;
</li><li>NFS server to allow the board to access the testing material;
</li><li>DHCP server to allow the board to get an IP address.
</li></ul>
<p>This article will be used as a starting point for kernel compilation and the compilation of all root filesystem components.
</p>
<table id="toc" class="toc"><tbody><tr><td><div id="toctitle"><h2>Contents</h2> <span class="toctoggle">[<a href="javascript:toggleToc()" class="internal" id="togglelink">hide</a>]</span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Toolchain"><span class="tocnumber">1</span> <span class="toctext">Toolchain</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Download_and_installation"><span class="tocnumber">1.1</span> <span class="toctext">Download and installation</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Setup"><span class="tocnumber">1.2</span> <span class="toctext">Setup</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#NFS_server"><span class="tocnumber">2</span> <span class="toctext">NFS server</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Shared_directory_setup"><span class="tocnumber">2.1</span> <span class="toctext">Shared directory setup</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Server_setup"><span class="tocnumber">2.2</span> <span class="toctext">Server setup</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Server_testing"><span class="tocnumber">2.3</span> <span class="toctext">Server testing</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Paranoid_testing"><span class="tocnumber">2.4</span> <span class="toctext">Paranoid testing</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#DHCP_setup"><span class="tocnumber">3</span> <span class="toctext">DHCP setup</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Setup_for_dhcp3-server"><span class="tocnumber">3.1</span> <span class="toctext">Setup for dhcp3-server</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Final_words_about:_Mini2440_MAC_address"><span class="tocnumber">3.2</span> <span class="toctext">Final words about: Mini2440 MAC address</span></a></li>
</ul>
</li>
</ul>
</td></tr></tbody></table><script>if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<h1> <span class="mw-headline" id="Toolchain">Toolchain</span></h1>
<p>In software, a toolchain is the set of programming tools that are 
used to create a product (typically another computer program or system 
of programs). The tools may be used in a chain, so that the output of 
each tool becomes the input for the next, but the term is used widely to
 refer to any set of linked development tools.
</p><p>In our project we choose to use the <a href="http://www.codesourcery.com/sgpp/lite_edition.html" class="external text" rel="nofollow">Sourcery G++ lite edition</a> for ARM processors.
</p>
<h2> <span class="mw-headline" id="Download_and_installation">Download and installation</span></h2>
<p>The toolchain can be downloaded from the <a href="http://www.codesourcery.com/sgpp/lite/arm/portal/subscription?@template=lite" class="external text" rel="nofollow">official website</a>.
</p><p>On the website four versions are available:
</p>
<ul><li>EABI - Used for bare metal programming;
</li><li>uClinux - for systems without MMU;
</li><li>GNU/Linux - for systems with MMU;
</li><li>SymbianOS - for systems based on SymbianOS.
</li></ul>
<p>Obviously we choose the <i>GNU/Linux</i> version.
</p><p>To keep order on our system we will put everything on a dedicated
 directory under our root and for sake of simplicity we call the working
 directory <b>fadevel</b>:
</p>
<pre>$ <b>cd ~</b>
$ <b>mkdir fadevel</b>
$ <b>cd fadevel</b>
$
</pre>
<p>Now we proceed with the download of the toolchain and we unpack it (the actual version is 2010.09-50):
</p>
<pre>~/fadevel$ wget <a href="http://www.codesourcery.com/sgpp/lite/arm/portal/package7851/public/arm-none-linux-gnueabi/arm-2010.09-50-arm-none-linux-gnueabi-i686-pc-linux-gnu.tar.bz2" class="external free" rel="nofollow">http://www.codesourcery.com/sgpp/lite/arm/portal/package7851/public/arm-none-linux-gnueabi/arm-2010.09-50-arm-none-linux-gnueabi-i686-pc-linux-gnu.tar.bz2</a>
--2011-04-08 11:00:12--  <a href="http://www.codesourcery.com/sgpp/lite/arm/portal/package7851/public/arm-none-linux-gnueabi/arm-2010.09-50-arm-none-linux-gnueabi-i686-pc-linux-gnu.tar.bz2" class="external free" rel="nofollow">http://www.codesourcery.com/sgpp/lite/arm/portal/package7851/public/arm-none-linux-gnueabi/arm-2010.09-50-arm-none-linux-gnueabi-i686-pc-linux-gnu.tar.bz2</a>
Risoluzione di www.codesourcery.com... 38.113.113.100
Connessione a www.codesourcery.com|38.113.113.100|:80... connesso.
HTTP richiesta inviata, in attesa di risposta... 302 Found
Posizione: <a href="http://www.codesourcery.com/public/gnu_toolchain/arm-none-linux-gnueabi/arm-2010.09-50-arm-none-linux-gnueabi-i686-pc-linux-gnu.tar.bz2" class="external free" rel="nofollow">http://www.codesourcery.com/public/gnu_toolchain/arm-none-linux-gnueabi/arm-2010.09-50-arm-none-linux-gnueabi-i686-pc-linux-gnu.tar.bz2</a> [segue]
--2011-04-08 11:00:12--  <a href="http://www.codesourcery.com/public/gnu_toolchain/arm-none-linux-gnueabi/arm-2010.09-50-arm-none-linux-gnueabi-i686-pc-linux-gnu.tar.bz2" class="external free" rel="nofollow">http://www.codesourcery.com/public/gnu_toolchain/arm-none-linux-gnueabi/arm-2010.09-50-arm-none-linux-gnueabi-i686-pc-linux-gnu.tar.bz2</a>
Connessione a www.codesourcery.com|38.113.113.100|:80... connesso.
HTTP richiesta inviata, in attesa di risposta... 200 OK
Lunghezza: 88213477 (84M) [application/x-tar]
Salvataggio in: "arm-2010.09-50-arm-none-linux-gnueabi-i686-pc-linux-gnu.tar.bz2"

100%[==============================================================================================================================================&gt;] 88'213'477   558K/s   in 2m 46s  

2011-04-08 11:02:59 (519 KB/s) - "arm-2010.09-50-arm-none-linux-gnueabi-i686-pc-linux-gnu.tar.bz2" salvato [88213477/88213477]

~/fadevel$ 
</pre>
<p>After a time depending on your internet connection speed, you'll get a <i>tar.bz2</i>
 file ready to be unpacked; the following command perform this operation
 installing the whole toolchain into a dedicated directory:
</p>
<pre>~/fadevel$ <b>tar -xf arm-2010.09-50-arm-none-linux-gnueabi-i686-pc-linux-gnu.tar.bz2</b>
</pre>
<p>Looking inside the working directory here is the content:
</p>
<pre>~/fadevel$ <b>ls -l</b>
totale 86156
drwxr-xr-x 7 fpiraneo fpiraneo     4096 2011-04-08 11:04 arm-2010.09
-rw-r--r-- 1 fpiraneo fpiraneo 88213477 2010-11-15 09:51 arm-2010.09-50-arm-none-linux-gnueabi-i686-pc-linux-gnu.tar.bz2
</pre>
<p><b>SUGGESTION:</b> While proceeding with the develop lots of 
compressed files will be downloaded and may be confusing to have 
everything around; so I'll create a "zip" directory and I'll put them 
inside; in this case:
</p>
<pre>~/fadevel$ <b>mkdir zipped</b>
~/fadevel$ <b>mv arm-2010.09-50-arm-none-linux-gnueabi-i686-pc-linux-gnu.tar.bz2 zipped/</b>
~/fadevel$ <b>ls -l</b>
totale 8
drwxr-xr-x 7 fpiraneo fpiraneo 4096 2011-04-08 11:04 arm-2010.09
drwxr-xr-x 2 fpiraneo fpiraneo 4096 2011-04-08 11:08 zipped
</pre>
<h2> <span class="mw-headline" id="Setup">Setup</span></h2>
<p>To correctly use the toolchain, some environment variables has to be setup:
</p>
<ul><li>CROSS_COMPILE - Containing the prefix for the cross compilation toolchain;
</li><li>ARCH - Containing the name of the architecture;
</li><li>CCFLAGS - Compiler flags for building and optimization of the generated code;
</li><li>PATH - Update the actual PATH variable to point at the development chain directory;
</li></ul>
<p>As general rule I prefer to create a simple script that can be used to setup the environment variables; here is the content:
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="bash source-bash"><pre class="de1"><span class="co0">#!/bin/bash</span>
<span class="co0"># Set environment variables for cross compile</span>
&nbsp;
<span class="kw3">export</span> <span class="re2">ARCH</span>=arm
<span class="kw3">export</span> <span class="re2">CROSS_COMPILE</span>=arm-none-linux-gnueabi-
&nbsp;
<span class="co0"># Add toolchain's path to your $PATH variable</span>
<span class="kw3">export</span> <span class="re2">PATH</span>=~<span class="sy0">/</span>fadevel<span class="sy0">/</span>arm-<span class="nu0">2010.09</span><span class="sy0">/</span>bin:<span class="re1">$PATH</span>
&nbsp;
<span class="co0"># This to allows programs compile</span>
<span class="kw3">export</span> <span class="re2">CFLAGS</span>=<span class="st0">"-O3 -march=armv4t -mtune=arm920t"</span></pre></div></div>
<p>We call this script <b>setvars</b>; once created remember to make it executable:
</p>
<pre>$ <b>chmod a+x setvars</b>
</pre>
<p>We will start it with:
</p>
<pre>$ <b>. ./setvars</b>
</pre>
<p>Do this now. After launching the script (remember the <i>leading dot</i> on the command!!! It's just a dot but it makes the difference!!) a quick verification with <b>printenv</b> will check that everything is ok.
</p>
<h1> <span class="mw-headline" id="NFS_server">NFS server</span></h1>
<p>Network File System (NFS) is a network file system protocol 
originally developed by Sun Microsystems in 1984, allowing a user on a 
client computer to access files over a network in a manner similar to 
how local storage is accessed. NFS, like many other protocols, builds on
 the Open Network Computing Remote Procedure Call (ONC RPC) system. The 
Network File System is an open standard defined in RFCs, allowing anyone
 to implement the protocol.
</p><p>We will use the NFS server to provide to our target board a 
network root filesystem that allows it to correctly start (with a 
properly compiled kernel) and allow us to make available to the board 
all the modifications we did on the root filesystem in no time.
</p>
<h2> <span class="mw-headline" id="Shared_directory_setup">Shared directory setup</span></h2>
<p>We simply perform the directory creation where we can put our material to the target Mini2440 board:
</p>
<pre>$ cd ~/fadevel
~/fadevel$ <b>mkdir target</b>
~/fadevel$ <b>ls -l</b>
totale 16
drwxr-xr-x 7 fpiraneo fpiraneo 4096 2011-04-08 11:04 arm-2010.09
-rwxr-xr-x 1 fpiraneo fpiraneo  295 2011-04-08 11:17 setvars
<b>drwxr-xr-x 2 fpiraneo fpiraneo 4096 2011-04-08 11:27 target</b>
drwxr-xr-x 2 fpiraneo fpiraneo 4096 2011-04-08 11:08 zipped
</pre>
<h2> <span class="mw-headline" id="Server_setup">Server setup</span></h2>
<p>The installation of the server side of NFS on the host computer vary depending on the used distro. On my <i>ubuntu 10.10</i> a simple <b>apt-get</b> command will install what's needed:
</p>
<pre>$ <b>sudo apt-get install nfs-kernel-server</b>
</pre>
<p>The nfs server and it's dependencies will be installed and properly started; to check that it's true a <b>lsmod</b> command can be used:
</p>
<pre>~/fadevel$ <b>lsmod | grep nfs</b>
<i>nfsd                  240992  13 </i>
<i>exportfs                3449  1 nfsd</i>
<i>nfs                   275206  0 </i>
lockd                  65605  2 nfsd,nfs
fscache                46361  1 nfs
nfs_acl                 2257  2 nfsd,nfs
auth_rpcgss            34001  2 nfsd,nfs
sunrpc                193178  14 nfsd,nfs,lockd,nfs_acl,auth_rpcgss
</pre>
<p>Now it's time to configure our shared directory stating to share our <i>~/fadevel/target/</i>; edit the <b>exports</b> file with:
</p>
<pre>$ <b>sudo vi /etc/exports</b>
</pre>
<p>On the vi editor add the following line on the bottom of the <i>exports</i> file:
</p>
<pre>/home/fpiraneo/fadevel/target *(rw,sync,no_root_squash,no_all_squash,no_subtree_check)
</pre>
<p>Note the following: the part of the path <b>/home/fpiraneo</b> has to be replaced with the full path of your home directory; if your username on the host system is <i>george</i> the string has to modified as follows:
</p>
<pre>/home/<b>george</b>/fadevel/target *(rw,sync,no_root_squash,no_all_squash,no_subtree_check)
</pre>
<p>No shortcuts like <b>~</b> are allowed!!!
</p><p>To makes the system takes the changes, restart the nfs server:
</p>
<pre>$ sudo service nfs-kernel-server restart
 * Stopping NFS kernel                                          [ OK ] 
 * Unexporting directories for NFS kernel                       [ OK ] 
 * Exporting directories for NFS kernel                         [ OK ] 
 * Starting NFS kernel                                          [ OK ]
</pre>
<h2> <span class="mw-headline" id="Server_testing">Server testing</span></h2>
<p>To test an NFS share on our host machine we can use another linux 
machine; actually I use another ubuntu machine where I previously 
installed the NFS client with:
</p>
<pre>$ <b>$ sudo apt-get install nfs-common</b>
</pre>
<p>A first step can be check which mounts are available on host machine:
</p>
<pre>$ <b>showmount -e 10.0.25.1</b>
Export list for 10.0.25.1:
/home/fpiraneo/fadevel/target *
/mnt                          *
/srv/nfs                      127.0.0.1
</pre>
<p><b>NOTE:</b> Replace the IP address with the <i>actual</i> IP address of your host machine!!
Now I'm ready to mount the host PC share in this second machine with:
</p>
<pre>$ <b>sudo mount 10.0.25.1:/home/fpiraneo/fadevel/target /mnt</b>
$ <b>df</b>
File system         blocchi di 1K   Usati   Dispon. Uso% Montato su
/dev/sda1            187303800  44773396 133015912  26% /
none                    961284       264    961020   1% /dev
none                    965504        88    965416   1% /dev/shm
none                    965504       344    965160   1% /var/run
none                    965504         0    965504   0% /var/lock
none                    965504         0    965504   0% /lib/init/rw
10.0.25.1:/home/fpiraneo/fadevel/target
                     471651840 153856000 293837312  35% /mnt
</pre>
<p><b>NOTE:</b> Replace the IP address with the <i>actual</i> IP address of your host machine!!
The <b>df</b> command confirm that the mount command has completed successfully.
</p>
<h2> <span class="mw-headline" id="Paranoid_testing">Paranoid testing</span></h2>
<p>With the remote NFS testing machine, looks into the mountpoint of host shared directory with a simple <b>cd</b> command:
</p>
<pre>$ <b>cd /mnt</b>
$ <b> ls -l</b>
totale 0
</pre>
<p>No files.
Acting on host pc create a simple file called <b>paranoid.txt</b> containing some text:
</p>
<pre>~/fadevel/target$ <b>echo This is some text to check that nfs works correctly! Just for paranoids! &gt;&gt; paranoid.txt</b>
~/fadevel/target$ <b>ll</b>
totale 12K
drwxr-xr-x 2 fpiraneo fpiraneo 4.0K 2011-04-08 12:03 ./
drwxr-xr-x 5 fpiraneo fpiraneo 4.0K 2011-04-08 11:27 ../
-rw-r--r-- 1 fpiraneo fpiraneo   73 2011-04-08 12:03 paranoid.txt
</pre>
<p>Move on NFS testing machine and issue an <b>ls</b>:
</p>
<pre>/mnt$ <b>ls -l</b>
totale 4
-rw-r--r-- 1 fpiraneo fpiraneo 73 2011-04-08 12:03 paranoid.txt
</pre>
<p>(It contains a file! - Good!)
</p><p>Now proceed to inspect the content:
</p>
<pre>/mnt$ cat paranoid.txt 
This is some text to check that nfs works correctly! Just for paranoids!
/mnt$ 
</pre>
<p>Now I'm really confident that the <i>target</i> directory on our host PC is really syncro with the NFS testing machine.
</p><p>We can safely unmount the <i>target</i> dir from the NFS testing machine:
</p>
<pre>/mnt$ <b>cd ~</b>
~$ <b>sudo umount /mnt</b>
~$ <b>df</b>
File system         blocchi di 1K   Usati   Dispon. Uso% Montato su
/dev/sda1            187303800  44773300 133016008  26% /
none                    961284       264    961020   1% /dev
none                    965504        88    965416   1% /dev/shm
none                    965504       340    965164   1% /var/run
none                    965504         0    965504   0% /var/lock
none                    965504         0    965504   0% /lib/init/rw
</pre>
<p>(Where is the remote <i>target</i> directory? Disappeared!)
</p>
<h1> <span class="mw-headline" id="DHCP_setup">DHCP setup</span></h1>
<p>Few words about DHCP: It seems that a booting kernel cannot accept 
static IP address usable to mount a root filesystem over NFS; this lead 
to the needs of a configuration of a DHCP server on your network; 
frankly speaking all modern SOHO routers I had in my hands had a DHCP 
server feature, so simply enable this feature and you're on the way.
Actually as my personal choice I disabled this feature on my SOHO router
 and I use <b>dhcp3-server</b> instead, running on my ubuntu server based machine.
</p>
<h2> <span class="mw-headline" id="Setup_for_dhcp3-server">Setup for <i>dhcp3-server</i></span></h2>
<p>The setup of <b>dhcp3-server</b> is beyond the scope of this document
 and I'll assume that you already have this service on your LAN running 
smoothly; as you know the configuration file for this server is under <b>/etc/dhcp3</b> and the file name is <b>dhcpd.conf</b>.
 Location and name may change depending on distro / server / revision / 
etc. so consider what reported here just rough guidelines.
</p><p>I added to my <b>dhcpd.conf</b> file the setup lines for my Mini2440 board as follows:
</p>
<pre><i>{some cuts here}</i>
# uut-01 - Unit under test - FriendlyARM
       host uut-01
       {
               option host-name        "uut-01";
               hardware ethernet       08:08:11:18:12:27;
               fixed-address           10.0.100.10;
       }
<i>{other cuts here}</i>
</pre>
<p>What's reported here will be obvious for peoples who knows dhcp3-server:
</p>
<ul><li>We declared a new entry on the configuration for the <b>uut-01</b> host;
</li><li>We assigned to that host, the name <b>uut01</b>;
</li><li>We expect that the MAC address of Mini2440 is <b>08:08:11:18:12:27</b>;
</li><li>We assign at that board a fixed IP <b>10.0.100.10</b>, this to avoid a changing IP.
</li></ul>
<h2> <span class="mw-headline" id="Final_words_about:_Mini2440_MAC_address">Final words about: Mini2440 MAC address</span></h2>
<p>Mini2440 Ethernet interface doesn't have a wired MAC address; it will
 be assigned while booting by the bootloader; in this series of notes 
the bootloader is <b>u-boot</b> so: <i>u-boot will assign a MAC address to Mini2440 while booting</i>;
 this potentially may create conflicts on a network in the case you 
assign to your Mini2440 the same MAC address of an existing Ethernet 
interface; considering that a MAC address is 48 bits so we can generate 
2^48 possible valid addresses (281'474'976'710'656 addresses) I consider
 this event very rare, but it could happens; all these consideration 
when we stay on our lab.
For sake of completeness consider the followings:
</p>
<ul><li><a href="http://en.wikipedia.org/wiki/MAC_address" class="external free" rel="nofollow">http://en.wikipedia.org/wiki/MAC_address</a> contains an overview of the MAC address;
</li><li><a href="http://coffer.com/mac_find/" class="external free" rel="nofollow">http://coffer.com/mac_find/</a> how to find a MAC address assignment;
</li><li><a href="http://standards.ieee.org/develop/regauth/oui/oui.txt" class="external free" rel="nofollow">http://standards.ieee.org/develop/regauth/oui/oui.txt</a> OUI public listing (updated daily - very long!).
</li></ul>
<p>Lookup on the second link above of the used MAC address on this note 
reports that the address is actually (08 April 2011) unassigned.
</p>
<!-- 
NewPP limit report
Preprocessor node count: 52/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key wikiface:pcache:idhash:18-0!1!0!!en!2!edit=0 and timestamp 20131220061003 -->
<div class="printfooter">
Retrieved from "<a href="http://wiki.iface.ch/index.php/Setup_a_testing_environment_for_Mini2440">http://wiki.iface.ch/index.php/Setup_a_testing_environment_for_Mini2440</a>"</div>
				<!-- /bodytext -->
								<!-- catlinks -->
				<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks"><a href="http://wiki.iface.ch/index.php/Special:Categories" title="Special:Categories">Categories</a>: <span dir="ltr"><a href="http://wiki.iface.ch/index.php/Category:Mini2440" title="Category:Mini2440">Mini2440</a></span> | <span dir="ltr"><a href="http://wiki.iface.ch/index.php/Category:Linux" title="Category:Linux">Linux</a></span></div></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Personal tools</h5>
	<ul>
					<li id="pt-login"><a href="http://wiki.iface.ch/index.php?title=Special:UserLogin&amp;returnto=Setup_a_testing_environment_for_Mini2440" title="You are encouraged to log in; however, it is not mandatory [alt-shift-o]" accesskey="o">Log in</a></li>
			</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li id="ca-nstab-main" class="selected"><a href="http://wiki.iface.ch/index.php/Setup_a_testing_environment_for_Mini2440" title="View the content page [alt-shift-c]" accesskey="c"><span>Page</span></a></li>
					<li id="ca-talk" class="new"><a href="http://wiki.iface.ch/index.php?title=Talk:Setup_a_testing_environment_for_Mini2440&amp;action=edit&amp;redlink=1" title="Discussion about the content page [alt-shift-t]" accesskey="t"><span>Discussion</span></a></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
	<h5><span>Variants</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view" class="selected"><a href="http://wiki.iface.ch/index.php/Setup_a_testing_environment_for_Mini2440"><span>Read</span></a></li>
					<li id="ca-viewsource"><a href="http://wiki.iface.ch/index.php?title=Setup_a_testing_environment_for_Mini2440&amp;action=edit" title="This page is protected.
You can view its source [alt-shift-e]" accesskey="e"><span>View source</span></a></li>
					<li id="ca-history" class="collapsible "><a href="http://wiki.iface.ch/index.php?title=Setup_a_testing_environment_for_Mini2440&amp;action=history" title="Past revisions of this page [alt-shift-h]" accesskey="h"><span>View history</span></a></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Search</label></h5>
	<form action="/index.php" id="searchform">
		<input name="title" value="Special:Search" type="hidden">
				<input id="searchInput" name="search" title="Search Wikiface [alt-shift-f]" accesskey="f" type="text">
		<input name="go" class="searchButton" id="searchGoButton" value="Go" title="Go to a page with this exact name if exists" type="submit">
		<input name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" type="submit">
			</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(/skins/common/images/wikiface-logo.png);" href="http://wiki.iface.ch/index.php/Main_Page" title="Visit the main page"></a></div>
				<!-- /logo -->
				
<!-- navigation -->
<div class="portal" id="p-navigation">
	<h5>Navigation</h5>
	<div class="body">
				<ul>
					<li id="n-mainpage-description"><a href="http://wiki.iface.ch/index.php/Main_Page" title="Visit the main page [alt-shift-z]" accesskey="z">Main page</a></li>
					<li id="n-portal"><a href="http://wiki.iface.ch/index.php/Wikiface:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
					<li id="n-currentevents"><a href="http://wiki.iface.ch/index.php/Wikiface:Current_events" title="Find background information on current events">Current events</a></li>
					<li id="n-recentchanges"><a href="http://wiki.iface.ch/index.php/Special:RecentChanges" title="The list of recent changes in the wiki [alt-shift-r]" accesskey="r">Recent changes</a></li>
					<li id="n-randompage"><a href="http://wiki.iface.ch/index.php/Special:Random" title="Load a random page [alt-shift-x]" accesskey="x">Random page</a></li>
					<li id="n-help"><a href="http://wiki.iface.ch/index.php/Help:Contents" title="The place to find out">Help</a></li>
				</ul>
			</div>
</div>

<!-- /navigation -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- TOOLBOX -->
<div class="portal" id="p-tb">
	<h5>Toolbox</h5>
	<div class="body">
		<ul>
					<li id="t-whatlinkshere"><a href="http://wiki.iface.ch/index.php/Special:WhatLinksHere/Setup_a_testing_environment_for_Mini2440" title="List of all wiki pages that link here [alt-shift-j]" accesskey="j">What links here</a></li>
						<li id="t-recentchangeslinked"><a href="http://wiki.iface.ch/index.php/Special:RecentChangesLinked/Setup_a_testing_environment_for_Mini2440" title="Recent changes in pages linked from this page [alt-shift-k]" accesskey="k">Related changes</a></li>
																																										<li id="t-specialpages"><a href="http://wiki.iface.ch/index.php/Special:SpecialPages" title="List of all special pages [alt-shift-q]" accesskey="q">Special pages</a></li>
									<li id="t-print"><a href="http://wiki.iface.ch/index.php?title=Setup_a_testing_environment_for_Mini2440&amp;printable=yes" rel="alternate" title="Printable version of this page [alt-shift-p]" accesskey="p">Printable version</a></li>
						<li id="t-permalink"><a href="http://wiki.iface.ch/index.php?title=Setup_a_testing_environment_for_Mini2440&amp;oldid=62" title="Permanent link to this revision of the page">Permanent link</a></li>
						</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
											<ul id="footer-info">
																	<li id="footer-info-lastmod"> This page was last modified on 19 April 2011, at 09:29.</li>
																							<li id="footer-info-viewcount">This page has been accessed 6,200 times.</li>
																							<li id="footer-info-copyright">Content is available under <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/" class="external ">Attribution-NonCommercial-NoDerivs 3.0 Unported</a>.</li>
															</ul>
															<ul id="footer-places">
																	<li id="footer-places-privacy"><a href="http://wiki.iface.ch/index.php/Wikiface:Privacy_policy" title="Wikiface:Privacy policy">Privacy policy</a></li>
																							<li id="footer-places-about"><a href="http://wiki.iface.ch/index.php/Wikiface:About" title="Wikiface:About">About Wikiface</a></li>
																							<li id="footer-places-disclaimer"><a href="http://wiki.iface.ch/index.php/Wikiface:General_disclaimer" title="Wikiface:General disclaimer">Disclaimers</a></li>
															</ul>
										<ul id="footer-icons" class="noprint">
								<li id="footer-icon-poweredby"><a href="http://www.mediawiki.org/"><img src="Setup%20a%20testing%20environment%20for%20Mini2440%20-%20Wikiface_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" height="31" width="88"></a></li>
												<li id="footer-icon-copyright"><a href="http://creativecommons.org/licenses/by-nc-nd/3.0/"><img src="Setup%20a%20testing%20environment%20for%20Mini2440%20-%20Wikiface_files/88x31.png" alt="Attribution-NonCommercial-NoDerivs 3.0 Unported" height="31" width="88"></a></li>
							</ul>
			<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		<!-- fixalpha -->
		<script type="text/javascript"> if ( window.isMSIE55 ) fixalpha(); </script>
		<!-- /fixalpha -->
		
<script>if (window.runOnloadHook) runOnloadHook();</script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="Setup%20a%20testing%20environment%20for%20Mini2440%20-%20Wikiface_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-22891129-1");
pageTracker._trackPageview();
</script>		<!-- Served in 0.097 secs. -->			

</body></html>